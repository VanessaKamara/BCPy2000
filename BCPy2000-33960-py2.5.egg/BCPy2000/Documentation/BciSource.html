<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>BCPy2000: BciSource</title>
<link type="text/css" rel="stylesheet" href="styles/gears/style.css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header"><span class="gotobar bar"><a class="local" href="Home.html">Home</a> <a class="local" href="About.html">About</a> <a class="local" href="Download.html">Download</a> <a class="local" href="Structure.html">Structure</a> <a class="local" href="Demo.html">Demo</a> <a class="local" href="Hooks.html">Hooks</a> <a class="local" href="API.html">API</a> <a class="local" href="Contact.html">Contact</a> <a class="local" href="Credits.html">Credits</a> <a class="local" href="License.html">License</a> </span><h1>BciSource</h1></div><div class="content"><p> <code>BciSource</code> is the name of a class, implemented by <a class="local canonical" title="Developer" href="Developer.html">you</a> in one of the <a class="local canonical" title="Developer_Files" href="Developer_Files.html">developer files</a>. The filename, by default, is also <code>BciSource.py</code> but this can be changed by specifying the command-line option <code>--PythonSrcClassFile</code> to the <a class="local canonical" title="Signal_Source_Binary" href="Signal_Source_Binary.html">signal source binary</a>.</p><p>The <code>BciSource</code> class is instantiated when the BCI2000 starts, and if the source module's <a class="local canonical" title="Shell" href="Shell.html">shell</a> is running, you can address this instance from the shell prompt as <code>self</code>.</p><p>Your <code>BciSource</code> must be a subclass of <code>BciGenericSource</code>, which is defined in the <a class="local canonical" title="Framework" href="Framework.html">framework</a> module <code>BCPy2000.GenericSource</code>. Your implementation should <strong>not</strong> define <code>__init__</code> and <code>__del__</code> methods, but rather use the appropriate <a class="local canonical" title="Hooks" href="Hooks.html">hooks</a> named according to the BCI2000 conventions.</p><p>The <code>Process</code> hook of the source module takes in a channels-by-samples <code>numpy.matrix</code> object containing the <a class="local canonical" title="Signal_Time" href="Signal_Time.html">signal time</a>, in seconds, corresponding to each sample. Its output value should be a matrix (the same shape as the input) containing the artificially generated signal.</p><p>The complete implementation of a source module generating 1-Hz sinewaves could be as follows: </p><pre class="real">from numpy import sin, pi


class BciSource (BciGenericSource):

    def Process(self, t):
        return 10000 * sin(2.0 * pi * t)

</pre><p>Your <code>Process</code> hook does not need to <code>sleep</code> in order to achieve a particular sampling frequency â€” this is handled by the <code>BciGenericSource</code> superclass. The relationship between <a class="local canonical" title="Signal_Time" href="Signal_Time.html">signal time</a> and real time is specified by the built-in source parameter <code>WarpFactor</code>.</p></div><div class="footer"><hr /> <span class="gotobar bar"><a class="local" href="Home.html">Home</a> <a class="local" href="About.html">About</a> <a class="local" href="Download.html">Download</a> <a class="local" href="Structure.html">Structure</a> <a class="local" href="Demo.html">Demo</a> <a class="local" href="Hooks.html">Hooks</a> <a class="local" href="API.html">API</a> <a class="local" href="Contact.html">Contact</a> <a class="local" href="Credits.html">Credits</a> <a class="local" href="License.html">License</a> </span> <span class="edit"></span> <span class="time"><span class="time"><br /> Last edited 2008-09-04 17:38 UTC by <a class="author" title="from localhost" href="jez.html">jez</a> <a class="diff">(diff)</a></span></span></div></body></html>